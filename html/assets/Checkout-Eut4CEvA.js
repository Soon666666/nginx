import{_ as d,k as p,l as m,q as _,r as h,o as n,c as l,t as a,h as y,a as t,F as f,e as C,b as g,w as k,p as I,f as P,d as S}from"./index-1eimlCe9.js";const v={name:"Checkout",data(){return{success:!1,msg:"付款成功！"}},inject:["currency"],computed:{...p("cart",{books:"items"}),...m("cart",["cartItemPrice","cartTotalPrice"])},methods:{itemPrice(e,c){return e*c},..._("cart",["setCartItems"]),pay(){this.setCartItems({items:[]}),this.success=!0}}},o=e=>(I("data-v-b7ed52cc"),e=e(),P(),e),N={class:"shoppingCart"},V={key:0},b=o(()=>t("caption",null,"商品结算",-1)),w=o(()=>t("tr",null,[t("th"),t("th",null,"商品名称"),t("th",null,"单价"),t("th",null,"数量"),t("th",null,"金额")],-1)),B=["src"];function T(e,c,q,x,u,r){const i=h("router-link");return n(),l("div",N,[u.success?(n(),l("h1",V,a(u.msg),1)):y("",!0),t("table",null,[b,w,(n(!0),l(f,null,C(e.books,s=>(n(),l("tr",{key:s.id},[t("td",null,[t("img",{src:s.image},null,8,B)]),t("td",null,[g(i,{to:{name:"book",params:{id:s.id}},target:"_blank"},{default:k(()=>[S(a(s.title),1)]),_:2},1032,["to"])]),t("td",null,a(r.currency(s.price)),1),t("td",null,a(s.quantity),1),t("td",null,a(r.currency(e.cartItemPrice(s.id))),1)]))),128))]),t("p",null,[t("span",null,[t("button",{class:"pay",onClick:c[0]||(c[0]=(...s)=>r.pay&&r.pay(...s))},"付款")]),t("span",null,"总价："+a(r.currency(e.cartTotalPrice)),1)])])}const j=d(v,[["render",T],["__scopeId","data-v-b7ed52cc"]]);export{j as default};
