import{_ as o,k as h,l as m,q as p,r as _,o as l,c as s,a as t,F as C,e as y,t as r,b as I,w as k,d as u,p as f,f as S}from"./index-1eimlCe9.js";const g={name:"ShoppingCart",inject:["currency"],computed:{...h("cart",{books:"items"}),...m("cart",["cartItemPrice","cartTotalPrice"])},methods:{itemPrice(e,c){return e*c},...p("cart",["deleteCartItem","incrementItemQuantity","setCartItems"]),handleAdd(e){this.incrementItemQuantity({id:e,quantity:1})},handleSubtract(e){e.quantity-1<=0?this.deleteCartItem(e.id):this.incrementItemQuantity({id:e.id,quantity:-1})},checkout(){this.$router.push("/check")}}},q=e=>(f("data-v-8ae6131c"),e=e(),S(),e),v={class:"shoppingCart"},P=q(()=>t("tr",null,[t("th"),t("th",null,"商品名称"),t("th",null,"单价"),t("th",null,"数量"),t("th",null,"金额"),t("th",null,"操作")],-1)),w=["src"],B=["onClick"],N=["onClick"],Q=["onClick"];function T(e,c,V,A,F,a){const d=_("router-link");return l(),s("div",v,[t("table",null,[P,(l(!0),s(C,null,y(e.books,n=>(l(),s("tr",{key:n.id},[t("td",null,[t("img",{src:n.image},null,8,w)]),t("td",null,[I(d,{to:{name:"book",params:{id:n.id}},target:"_blank"},{default:k(()=>[u(r(n.title),1)]),_:2},1032,["to"])]),t("td",null,r(a.currency(n.price)),1),t("td",null,[t("button",{onClick:i=>a.handleSubtract(n)},"-",8,B),u(" "+r(n.quantity)+" ",1),t("button",{onClick:i=>a.handleAdd(n.id)},"+",8,N)]),t("td",null,r(a.currency(e.cartItemPrice(n.id))),1),t("td",null,[t("button",{onClick:i=>e.deleteCartItem(n.id)},"删除",8,Q)])]))),128))]),t("p",null,[t("span",null,[t("button",{class:"checkout",onClick:c[0]||(c[0]=(...n)=>a.checkout&&a.checkout(...n))},"结算")]),t("span",null,"总价："+r(a.currency(e.cartTotalPrice)),1)])])}const j=o(g,[["render",T],["__scopeId","data-v-8ae6131c"]]);export{j as default};
